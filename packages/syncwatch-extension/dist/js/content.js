(function(){"use strict";{let f=function(e){try{chrome.runtime.sendMessage(e)}catch{}},u=function(e){if(e=e||window,e.parent!==e){for(let t=0;t<e.parent.frames.length;t++)if(e.parent.frames[t]===e)return t;throw Error("In a frame, but could not find myself")}else return-1},o=function(e){return e=e||window,u(e)<0?"-1":`${o(e.parent)}${u(e)}`},c=function(e){const t={location:o(window),type:e.type,element:r.indexOf(e.target),currentTime:e.target.currentTime,playbackRate:e.target.playbackRate};t.type==="progress"?t.type="pause":t.type==="playing"&&(t.type="play"),f({from:"content",data:t})},p=function(e){const t=i;e.target.readyState<3?i=!0:i=!1,t===!1&&i===!0&&c(e)},m=function(e){a?n==="play"?e.type==="progress"?(p(e),a=!1):e.type==="playing"&&(a=!1):n==="pause"?e.type==="seeked"&&(a=!1):n===e.type&&(a=!1):e.type==="seeked"?e.target.paused&&c(e):e.type==="progress"?p(e):c(e)},y=function(e){const t=["playing","pause","seeked","ratechange","progress"];for(let s=0;s<e.length;s++)for(let l=0;l<t.length;l++)e[s].addEventListener(t[l],m,!0)},d=function(){const e=document.getElementsByTagName("video");y(e),r=Array.from(e)},g=function(e){e.name==="NotAllowedError"&&f({from:"errorOnEvent"})},k=function(){return window.location.host==="www.netflix.com"},b=function(e){switch(e.type){case"play":{window.postMessage({action:"seek",time:e.currentTime}),window.postMessage({action:"play"});break}case"pause":{window.postMessage({action:"pause"}),window.postMessage({action:"seek",time:e.currentTime});break}case"seeked":{window.postMessage({action:"seek",time:e.currentTime});break}case"ratechange":{window.postMessage({action:"setPlaybackRate",playbackRate:e.playbackRate});break}}},w=function(e){if(a=!0,n=e.type,k()){b(e);return}switch(e.type){case"play":{r[e.element].currentTime=e.currentTime,r[e.element].play().catch(g);break}case"pause":{r[e.element].pause(),r[e.element].currentTime=e.currentTime;break}case"seeked":{r[e.element].currentTime=e.currentTime;break}case"ratechange":{r[e.element].playbackRate=e.playbackRate;break}}},r=[],a=!1,n,i=!1;d(),new MutationObserver(()=>{d()}).observe(document.documentElement,{childList:!0,subtree:!0}),chrome.runtime.onMessage.addListener((e,t,s)=>{e.from==="background"&&(e.data.location===o(window)&&w(e.data),e.data==="isContentScriptInjected"&&r.length!==0&&s(!0))})}})();
